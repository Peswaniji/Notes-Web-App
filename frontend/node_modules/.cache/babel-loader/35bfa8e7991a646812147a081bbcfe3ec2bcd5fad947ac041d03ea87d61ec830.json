{"ast":null,"code":"import{useEffect}from\"react\";import{Accordion,Badge,Button,Card}from\"react-bootstrap\";import{Link,useNavigate}from\"react-router-dom\";import MainScreen from\"../../components/MainScreen\";import{useDispatch,useSelector}from\"react-redux\";import{deleteNoteAction,listNotes}from\"../../actions/notesActions\";import Loading from\"../../components/Loading\";import ErrorMessage from\"../../components/ErrorMessage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyNotes=function MyNotes(_ref){var _userInfo$name;var search=_ref.search;var dispatch=useDispatch();var noteList=useSelector(function(state){return state.noteList;});var loading=noteList.loading,error=noteList.error,notes=noteList.notes;var navigate=useNavigate();var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var noteCrate=useSelector(function(state){return state.noteCrate;});var successCreate=noteCrate.success;var noteUpdate=useSelector(function(state){return state.noteUpdate;});var successUpdate=noteUpdate.success;var noteDelete=useSelector(function(state){return state.noteDelete;});var loadingDelete=noteDelete.loading,errorDelete=noteDelete.error,successDelete=noteDelete.success;var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure?\")){dispatch(deleteNoteAction(id));}};useEffect(function(){if(!userInfo){navigate(\"/\");}dispatch(listNotes());},[dispatch,successCreate,navigate,userInfo,successUpdate,successDelete]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(MainScreen,{title:\"Welcome \".concat(userInfo===null||userInfo===void 0?void 0:(_userInfo$name=userInfo.name)===null||_userInfo$name===void 0?void 0:_userInfo$name.split(\" \")[0],\"...\"),children:[/*#__PURE__*/_jsx(Link,{to:\"/createnote\",children:/*#__PURE__*/_jsx(Button,{style:{marginLeft:10,marginBottom:6},size:\"lg\",children:\"Create a Note\"})}),errorDelete&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:errorDelete}),error&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loading,{}),notes===null||notes===void 0?void 0:notes.reverse().filter(function(filterdNote){return filterdNote.title.toLowerCase().includes(search.toLowerCase());}).map(function(note){return/*#__PURE__*/_jsx(Accordion,{defaultActiveKey:\"0\",children:/*#__PURE__*/_jsxs(Card,{style:{margin:10},children:[/*#__PURE__*/_jsxs(Card.Header,{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\",textDecoration:\"none\",flex:1,cursor:\"pointer\",alignSelf:\"center\",fontSize:18,fontWeight:\"bold\"},children:/*#__PURE__*/_jsx(Accordion.Header,{children:note.title})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/note/\".concat(note._id),children:/*#__PURE__*/_jsx(Button,{children:\"Edit\"})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"mx-2\",onClick:function onClick(){return deleteHandler(note._id);},children:\"Delete\"})]})]}),/*#__PURE__*/_jsx(Accordion.Body,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsxs(Badge,{pill:true,bg:\"success\",children:[\"Category - \",note.category]})}),/*#__PURE__*/_jsxs(\"blockquote\",{className:\"blockquote mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{children:note.content}),/*#__PURE__*/_jsxs(\"footer\",{className:\"blockquote-footer\",children:[\"Created On - \",note.createdAt.substring(0,10)]})]})]})})]})});})]})});};export default MyNotes;","map":{"version":3,"names":["useEffect","Accordion","Badge","Button","Card","Link","useNavigate","MainScreen","useDispatch","useSelector","deleteNoteAction","listNotes","Loading","ErrorMessage","jsx","_jsx","jsxs","_jsxs","MyNotes","_ref","_userInfo$name","search","dispatch","noteList","state","loading","error","notes","navigate","userLogin","userInfo","noteCrate","successCreate","success","noteUpdate","successUpdate","noteDelete","loadingDelete","errorDelete","successDelete","deleteHandler","id","window","confirm","children","title","concat","name","split","to","style","marginLeft","marginBottom","size","variant","reverse","filter","filterdNote","toLowerCase","includes","map","note","defaultActiveKey","margin","Header","display","color","textDecoration","flex","cursor","alignSelf","fontSize","fontWeight","_id","className","onClick","Body","pill","bg","category","content","createdAt","substring"],"sources":["C:/Users/peswa/Desktop/git/MERN/Notes-App/frontend/src/screens/MyNotes/MyNotes.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { Accordion, Badge, Button, Card } from \"react-bootstrap\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport MainScreen from \"../../components/MainScreen\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteNoteAction, listNotes } from \"../../actions/notesActions\";\r\nimport Loading from \"../../components/Loading\";\r\nimport ErrorMessage from \"../../components/ErrorMessage\";\r\n\r\nconst MyNotes = ({ search }) => {\r\n  const dispatch = useDispatch();\r\n  const noteList = useSelector((state) => state.noteList);\r\n  const { loading, error, notes } = noteList;\r\n\r\n  const navigate = useNavigate();\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const noteCrate = useSelector((state) => state.noteCrate);\r\n  const { success: successCreate } = noteCrate;\r\n\r\n  const noteUpdate = useSelector((state) => state.noteUpdate);\r\n  const { success: successUpdate } = noteUpdate;\r\n\r\n  const noteDelete = useSelector((state) => state.noteDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = noteDelete;\r\n\r\n  const deleteHandler = (id) => {\r\n    if (window.confirm(\"Are you sure?\")) {\r\n      dispatch(deleteNoteAction(id));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      navigate(\"/\");\r\n    }\r\n    dispatch(listNotes());\r\n  }, [\r\n    dispatch,\r\n    successCreate,\r\n    navigate,\r\n    userInfo,\r\n    successUpdate,\r\n    successDelete,\r\n  ]);\r\n\r\n  return (\r\n    <div>\r\n      <MainScreen title={`Welcome ${userInfo?.name?.split(\" \")[0]}...`}>\r\n        <Link to=\"/createnote\">\r\n          <Button style={{ marginLeft: 10, marginBottom: 6 }} size=\"lg\">\r\n            Create a Note\r\n          </Button>\r\n        </Link>\r\n        {errorDelete && (\r\n          <ErrorMessage variant=\"danger\">{errorDelete}</ErrorMessage>\r\n        )}\r\n        {error && <ErrorMessage variant=\"danger\">{error}</ErrorMessage>}\r\n        {loading && <Loading />}\r\n        {notes\r\n          ?.reverse()\r\n          .filter((filterdNote) =>\r\n            filterdNote.title.toLowerCase().includes(search.toLowerCase())\r\n          )\r\n          .map((note) => (\r\n            <Accordion defaultActiveKey=\"0\">\r\n              <Card style={{ margin: 10 }}>\r\n                <Card.Header style={{ display: \"flex\"}}>\r\n                  <span\r\n                    style={{\r\n                      color: \"black\",\r\n                      textDecoration: \"none\",\r\n                      flex: 1,\r\n                      cursor: \"pointer\",\r\n                      alignSelf: \"center\",\r\n                      fontSize: 18,\r\n                      fontWeight: \"bold\"\r\n                    }}\r\n                  >\r\n                    <Accordion.Header>{note.title}</Accordion.Header>\r\n                  </span>\r\n                  <div>\r\n                    <Link to={`/note/${note._id}`}>\r\n                      <Button>Edit</Button>\r\n                    </Link>\r\n                    <Button\r\n                      variant=\"danger\"\r\n                      className=\"mx-2\"\r\n                      onClick={() => deleteHandler(note._id)}\r\n                    >\r\n                      Delete\r\n                    </Button>\r\n                  </div>\r\n                </Card.Header>\r\n                <Accordion.Body>\r\n                  <Card.Body>\r\n                    <h4>\r\n                      <Badge pill bg=\"success\">\r\n                        Category - {note.category}\r\n                      </Badge>\r\n                    </h4>\r\n                    <blockquote className=\"blockquote mb-0\">\r\n                      <p>{note.content}</p>\r\n                      <footer className=\"blockquote-footer\">\r\n                        Created On - {note.createdAt.substring(0, 10)}\r\n                      </footer>\r\n                    </blockquote>\r\n                  </Card.Body>\r\n                </Accordion.Body>\r\n              </Card>\r\n            </Accordion>\r\n          ))}\r\n      </MainScreen>\r\n    </div>\r\n  );\r\n};\r\nexport default MyNotes;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}